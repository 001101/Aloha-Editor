<!doctype html>
<html>
	<head>
		<title>Aloha Editor</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" type="text/css" href="../src/aloha.css">
		<style>
			@font-face {
			  font-family: 'Open Sans';
			  font-style: normal;
			  font-weight: 300;
			  src: local('Open Sans Light'), local('OpenSans-Light'), url(open-sans.woff) format('woff');
			}
			@font-face {
			  font-family: 'Open Sans';
			  font-style: normal;
			  font-weight: 700;
			  src: local('Open Sans Bold'), local('OpenSans-Bold'), url(open-sans-bold.woff) format('woff');
			}
			body {
				font-family: 'Open Sans', sans-serif;
			}
			.aloha-block {
				width: 200px;
				height: 200px;
				padding: 10px;
				background: #111;
				color: #fff;
				text-align: center;
				display: table-cell;
				vertical-align: middle;
			}
			.aloha-block:hover {
				outline: 7px solid rgba(50,30,10,0.2);
			}
			img.aloha-block {
				width: auto;
				height: auto;
				padding: 0;
				display: block;
			}
			/*
			ul,ol,li,td,p,b,i,u,div,h1,h2,h3,h4,h5,h6 {
				padding: 2px 4px;
				margin: 2px;
				border: 1px solid rgba(0,0,0,0.2);
			}
			p { border-color: rgba(200,0,0,0.5); }
			span { border-color: rgba(200,200,0,0.5); }
			b    { border-color: rgba(0,200,0,0.5) }
			u    { border-color: rgba(0,0,200,0.5) }
			i    { border-color: rgba(0,200,200,0.5) }
			h1,h2,h3,h4,h5,h6 { border-color: gray }
			table {
				border-collapse: collapse;
				border-spacing: 0px;
			}
			.aloha-editable {
				margin: 5px;
				background: white;
				min-height: 20px;
			}
			*/
		</style>
	</head>
	<body>
		<!--
		<div class="aloha-editable" contentEditable="true">foo</div>
		<div class="aloha-editable" contentEditable="true"> *bar</div>
		<div class="aloha-editable" contentEditable="true">  *foo<b>  *bar</b></div>
		<div class="aloha-editable" contentEditable="true"><p>  *foo</p></div>
		<div class="aloha-editable" contentEditable="true"><p>foo* </p>bar</div>
		<div class="aloha-editable" contentEditable="true"><p>foo</p> *bar</div>
		<div class="aloha-editable" contentEditable="true"> <p>foo</p>  *bar</div>
		<div class="aloha-editable" contentEditable="true"><p> *foo</p>x *bar</div>
		<div class="aloha-editable" contentEditable="true"><b> *foo</b>x *bar</div>
		<div class="aloha-editable" contentEditable="true">foo<p><i><b> *bar</b></i></p></div>
		<div class="aloha-editable" contentEditable="true"> <i> <b> *bar* </b></i></div>
		<div class="aloha-editable" contentEditable="true"><p><b>foo </b></p><p><i><b>bar  </b> </i> </p>baz</div>
		<div class="aloha-editable" contentEditable="true"><b>  </b></div>
		<div class="aloha-editable" contentEditable="true"><b>foo* </b>bar</div>
		<div class="aloha-editable" contentEditable="true"><b>foo</b> *bar</div>
		<div class="aloha-editable" contentEditable="true">foo<br><p>bar</p></div>
		<p class="aloha-editable" contentEditable="true">sdfasdf<i>foo<br></i>bar</p>
		<p class="aloha-editable" contentEditable="true">
			<img
			class="aloha-block"
			src="http://farm6.staticflickr.com/5474/10550733095_48c0f419a3.jpg"
			alt= "" />
		</p>
		-->

		<div class="aloha-editable" contentEditable="true">
			<h1>Aloha Editor</h1>
			<p>
				Lorem    ipsum &nbsp;dolor sit amet, <b>consec<i>tet</i>ur</b> adipiscin*
				elit. Donec a diam lectus. Sed sit amet ipsum mauris.  Maecen* 
				congue ligula ac quam viverra nec consectetur ante hendrerit*
			</p>
			<div class="aloha-block" contenteditable="false">this is a block</div>
			<p>
				Donec et mollis dolor.  Praesent et diam eget libero egesta*
				mattis sit amet vitae augue.  Nam tincidunt congue enim, u*
				porta lorem lacinia consectetur. Donec ut libero sed arc*
				vehicula ultricies a non tortor*
			</p>
			<div>
				<ul>
					<li>one</li>
					<li>two</li>
					<li>three<ul>
								<li>one</li>
								<li>two</li>
								<li>three</li>
							</ul>
					</li>
				</ul>
			</div>
			<p>
				Donec et mollis dolor.  Praesent et diam eget libero egesta*
				mattis sit amet vitae augue.
				<img
				class="aloha-block"
				src="http://farm3.staticflickr.com/2810/10542082494_31576f1fa7.jpg"
				alt="" />
				Nam tincidunt congue enim, u porta lorem lacinia consectetur.
				Donec ut libero sed arc vehicula ultricies a non tortor
			</p>
		</div>
		<!--

			<br/><br/><br/><hr/><br/><br/><br/>

			<p>foo</p>
			<p>bar</p>
			<b>bar</b>
			<p>buz</p>

			<div>foo</div>
			<div>
				<p><b>bar</b></p>
				<p>buz</p>
			</div>

			<br/><br/><br/><br/><br/><br/>

			<div><p>foo</p></div>
			<div><i>bar</i></div>


			<div>
				<div>
					<h1>one</h1>
					two
					<p>three</p>
				</div>
			</div>

			<p>foo</p><p>bar</p>

			<br/><br/><br/><hr/><br/><br/><br/>

			<b>foo</b><b>bar</b>

			<br/><br/><br/><hr/><br/><br/><br/>

			<b>foo</b><i>bar</i>

			<br/><br/><br/><hr/><br/><br/><br/>

			<b>foo</b><p>bar</p>

			<br/><br/><br/><hr/><br/><br/><br/>

			<b>foo</b><p><b>bar</b></p>

			<br/><br/><br/><hr/><br/><br/><br/>

			<b>foo</b><div><p>bar</p></div>

			<br/><br/><br/><hr/><br/><br/><br/>

			<b>foo</b><div><p>bar</p>baz</div>

			<br/><br/><br/><hr/><br/><br/><br/>

			<div>
				<b>foo</b><div><h2><p>bar</p>baz</h2>buz</div>
			</div>

			<br/><br/><br/><br/><br/><br/>

			<table summary="demo content for aloha tables">
				<tbody>
					<tr><td >This</td><td >is</td><td>a</td><td>demo</td></tr>
					<tr><td>table</td><td colspan=2 rowspan=2>with</td><td>an</td></tr>
					<tr><td>awesome</td><td>column</td></tr>
					<tr><td>and</td><td>row</td><td>span</td><td>!</td></tr>
				</tbody>
				<caption>describe the table</caption>
			</table>

			<h2>Foo</h2>bar
			<h2>Foo</h2><b>bar</b>
			<h2>Foo</h2><b><i>bar</i></b>
			<h2><i>Foo</i></h2><i>bar</i>
			<h2><i>Foo</i></h2><i><u>bar</u></i>
			<h2><i>Foo</i></h2><b><i>bar</i></b>
			<h2><b><i>Foo</i></b></h2><b><i>bar</i></b>
			<h2>Foo</h2><p>bar</p>

			<br/><br/><br/><br/><br/><br/>
		-->
		<script src="mandox.js"></script>
		<script src="../src/require-pronto.js"></script>
		<script src="../src/require-pronto.dev.js"></script>
		<script src="../build/aloha.js"></script>
		<script>
			(function () {
				'use strict';
				function setVersion (version) {
					var h1 = document.getElementsByTagName('h1')[0];
					if (h1) {
						h1.innerHTML = h1.innerHTML + ': <span style="color:#df215a">' + version + '</span>';
					}
				}
				function main(ranges, editing, pubsub) {
					var editables = document.getElementsByClassName('aloha-editable');
					aloha.arrays.coerce(editables).forEach(function (node) {
						aloha.aloha(node);
					});
					return;
					var range = ranges.create(
						document.getElementsByTagName('b')[0], 1,
						document.getElementsByTagName('b')[0], 2
					);
					ranges.select(ranges.extendToWord(range));
					range = ranges.get();
					editing.wrap(range, 'u');
					ranges.contract(range);
					ranges.insertText(ranges.stableRange(range), '"');
					ranges.collapseToEnd(range)
					ranges.insertText(range, '"');
					ranges.collapseToEnd(range);
					ranges.select(range);
				}
				function load(aloha) {
					main(aloha.ranges, aloha.editing, aloha.pubsub);
				}
				if ('undefined' === typeof aloha) {
					setVersion('src');
					require(['../src/aloha'], load);
				} else {
					setVersion('build');
					load(aloha)
				}
			}());
		</script>
	</body>
</html>

