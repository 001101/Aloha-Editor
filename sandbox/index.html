<!doctype html>
<html>
	<head>
		<title>Aloha Editor</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" type="text/css" href="../src/aloha.css">
		<style>
			@font-face {
			  font-family: 'Open Sans';
			  font-style: normal;
			  font-weight: 300;
			  src: local('Open Sans Light'), local('OpenSans-Light'), url(open-sans.woff) format('woff');
			}
			@font-face {
			  font-family: 'Open Sans';
			  font-style: normal;
			  font-weight: 700;
			  src: local('Open Sans Bold'), local('OpenSans-Bold'), url(open-sans-bold.woff) format('woff');
			}
			body {
				font-family: 'Open Sans', sans-serif;
			}
			.aloha-block {
				width: 200px;
				height: 200px;
				padding: 10px;
				background: #111;
				color: #fff;
				text-align: center;
				display: table-cell;
				vertical-align: middle;
			}
			.aloha-block:hover {
				background: #df215a;
			}
			img.aloha-block {
				width: auto;
				height: auto;
				display: block;
				padding: 0;
			}
			/*
			ul,ol,li,td,p,b,i,u,div,h1,h2,h3,h4,h5,h6 {
				padding: 2px 4px;
				margin: 2px;
				border: 1px solid rgba(0,0,0,0.2);
			}
			p { border-color: rgba(200,0,0,0.5); }
			span { border-color: rgba(200,200,0,0.5); }
			b    { border-color: rgba(0,200,0,0.5) }
			u    { border-color: rgba(0,0,200,0.5) }
			i    { border-color: rgba(0,200,200,0.5) }
			h1,h2,h3,h4,h5,h6 { border-color: gray }
			table {
				border-collapse: collapse;
				border-spacing: 0px;
			}
			.aloha-editable {
				margin: 5px;
				background: white;
				min-height: 20px;
			}
			*/
		</style>
	</head>
	<body>
		<div class="aloha-editable">
			<h1>Aloha Editor</h1>
			<p>
				Lorem    ipsum &nbsp;dolor sit amet, <b>consec<i>tet</i>ur</b> adipiscin*
				elit. Donec a diam lectus. Sed sit amet ipsum mauris.  Maecen* 
				congue ligula ac quam viverra nec consectetur ante hendrerit*
			</p>
			<div class="aloha-block" data-aloha='{"hello":"word"}'>this is a block.</div>
			<p>
				Donec et mollis dolor.  Praesent et diam eget libero egesta*
				mattis sit amet vitae augue.  Nam tincidunt congue enim, u*
				porta lorem lacinia consectetur. Donec ut libero sed arc*
				vehicula ultricies a non tortor*
			</p>
			<div>
				<ul>
					<li>one</li>
					<li>two</li>
					<li>three<ul>
								<li>one</li>
								<li>two</li>
								<li>three</li>
							</ul>
					</li>
				</ul>
			</div>
			<p>
				Donec et mollis dolor.  Praesent et diam eget libero egesta*
				mattis sit amet vitae augue.
				<img
				class="aloha-block"
				src="http://farm3.staticflickr.com/2810/10542082494_31576f1fa7.jpg"
				alt="" />
				Nam tincidunt congue enim, u porta lorem lacinia consectetur.
				Donec ut libero sed arc vehicula ultricies a non tortor
			</p>
		</div>
		<!-- script src="mandox.js"></script -->
		<script src="../src/require-pronto.js"></script>
		<script src="../src/require-pronto.dev.js"></script>
		<script src="../build/aloha.js"></script>
		<script>
			(function () {
				'use strict';
				function setVersion (version) {
					var h1 = document.querySelector('h1');
					if (h1) {
						h1.innerHTML = h1.innerHTML + ': <span style="color:#df215a">' + version + '</span>';
					}
				}
				function main(Editing, Ranges, Arrays, StableRange) {
					Arrays.coerce(document.querySelectorAll('.aloha-editable')).forEach(aloha);
					var range = Ranges.expandToWord(Ranges.create(
						document.querySelector('b'), 1,
						document.querySelector('b'), 2
					));
					Editing.wrap(range, 'u');
					Ranges.contract(range);
					Ranges.insertTextBehind(StableRange(range), '"');
					Ranges.collapseToEnd(range)
					Ranges.insertTextBehind(range, '"');
				}
				function load(aloha) {
					main(
						aloha.editing,
						aloha.ranges,
						aloha.arrays,
						aloha.stablerange
					);
				}
				if ('undefined' === typeof aloha) {
					setVersion('src');
					require(['../src/aloha'], load);
				} else {
					setVersion('build');
					load(aloha)
				}
			}());
		</script>
	</body>
</html>

